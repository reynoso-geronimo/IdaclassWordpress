"use strict";!function(e){const r=(e=>{let r=e+"=",c=decodeURIComponent(document.cookie).split(";");for(let e=0;e<c.length;e++){let t=c[e];for(;" "==t.charAt(0);)t=t.substring(1);if(0==t.indexOf(r))return t.substring(r.length,t.length)}return""})("yay_currency_widget");let c=null;window.yayCurrency.converted_currency&&(window.yayCurrency.converted_currency.forEach(e=>{e.ID==r&&(c=e)}),window.wc_price_calculator_params&&(window.wc_price_calculator_params.woocommerce_currency_pos=c.currencyPosition,window.wc_price_calculator_params.woocommerce_price_decimal_sep=c.decimalSeparator,window.wc_price_calculator_params.woocommerce_price_num_decimals=c.numberDecimal,window.wc_price_calculator_params.woocommerce_price_thousand_sep=c.thousandSeparator,window.wc_price_calculator_params.pricing_rules&&window.wc_price_calculator_params.pricing_rules.forEach(e=>{e.price=(e.price*c.rate).toString(),e.regular_price=(e.regular_price*c.rate).toString(),e.sale_price=(e.sale_price*c.rate).toString()})));const t=()=>{window.history.replaceState&&window.history.replaceState(null,null,window.location.href),e(".yay-currency-dropdown").length>0&&e(".yay-currency-dropdown").css({"background-color":"transparent"}).html(yayCurrency.shortCode)};jQuery(document).ready(function(e){t();const{yayCurrency:r}=window;e(document.body).on("update_checkout",function(e){e.stopImmediatePropagation()}),e(document.body).trigger("wc_fragment_refresh"),"undefined"==typeof wc_cart_fragments_params||null===wc_cart_fragments_params||sessionStorage.removeItem(wc_cart_fragments_params.fragment_name);e(window).on("load resize scroll",function(){e(".yay-currency-single-page-switcher").each(function(){const r=e(this).offset().top+e(this).height()-e(window).scrollTop();e(window).height()-e(this).height()-e(this).offset().top+e(window).scrollTop()<250&&r>250?(e(this).find(".yay-currency-custom-options").addClass("upwards"),e(this).find(".yay-currency-custom-arrow").addClass("upwards"),e(this).find(".yay-currency-custom-select__trigger").addClass("upwards")):(e(this).find(".yay-currency-custom-options").removeClass("upwards"),e(this).find(".yay-currency-custom-arrow").removeClass("upwards"),e(this).find(".yay-currency-custom-select__trigger").removeClass("upwards"))})}),e(document).on("click",".yay-currency-custom-select-wrapper",function(){e(".yay-currency-custom-select",this).toggleClass("open"),e("#slide-out-widget-area").find(".yay-currency-custom-options").toggleClass("overflow-fix"),e("[id^=footer]").toggleClass("z-index-fix"),e(".yay-currency-custom-select",this).parents(".handheld-navigation").toggleClass("overflow-fix")}),e(document).on("click",".yay-currency-custom-option-row",function(){const c=e(this).data("value"),t=e(this).children(".yay-currency-flag").data("country_code");e(".yay-currency-switcher").val(c).change(),e(this).hasClass("selected")||(e(this).parent().find(".yay-currency-custom-option-row.selected").removeClass("selected"),e(this).addClass("selected"),e(this).closest(".yay-currency-custom-select").find(".yay-currency-flag.selected").css({background:`url(${r.yayCurrencyPluginURL}assets/dist/flags/${t}.svg)`}),e(this).closest(".yay-currency-custom-select").find(".yay-currency-custom-select__trigger .yay-currency-selected-option").text(e(this).text()))}),window.addEventListener("click",function(e){document.querySelectorAll(".yay-currency-custom-select").forEach(r=>{r.contains(e.target)||r.classList.remove("open")})})})}(jQuery);